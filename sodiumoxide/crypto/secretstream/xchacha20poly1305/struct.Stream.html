<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`Stream` contains the state for multi-part (streaming) computations. This allows the caller to process encryption of a sequence of multiple messages."><meta name="keywords" content="rust, rustlang, rust-lang, Stream"><title>Stream in sodiumoxide::crypto::secretstream::xchacha20poly1305 - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../../storage.js"></script><script src="../../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../../sodiumoxide/index.html'><div class='logo-container rust-logo'><img src='../../../../rust-logo.png' alt='logo'></div></a><p class="location">Struct Stream</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#implementations">Methods</a><div class="sidebar-links"><a href="#method.finalize">finalize</a><a href="#method.init_pull">init_pull</a><a href="#method.init_push">init_push</a><a href="#method.is_finalized">is_finalized</a><a href="#method.is_not_finalized">is_not_finalized</a><a href="#method.pull">pull</a><a href="#method.pull_to_vec">pull_to_vec</a><a href="#method.push">push</a><a href="#method.push_to_vec">push_to_vec</a><a href="#method.rekey">rekey</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><a class="sidebar-title" href="#blanket-implementations">Blanket Implementations</a><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><p class="location"><a href="../../../index.html">sodiumoxide</a>::<wbr><a href="../../index.html">crypto</a>::<wbr><a href="../index.html">secretstream</a>::<wbr><a href="index.html">xchacha20poly1305</a></p><div id="sidebar-vars" data-name="Stream" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button">?</button>
                <a id="settings-menu" href="../../../../settings.html"><img src="../../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="../../../index.html">sodiumoxide</a>::<wbr><a href="../../index.html">crypto</a>::<wbr><a href="../index.html">secretstream</a>::<wbr><a href="index.html">xchacha20poly1305</a>::<wbr><a class="struct" href="">Stream</a><button id="copy-path" onclick="copy_path(this)"><img src="../../../../clipboard.svg" width="19" height="18" alt="Copy item import"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust struct">pub struct Stream&lt;M:&nbsp;<a class="trait" href="trait.StreamMode.html" title="trait sodiumoxide::crypto::secretstream::xchacha20poly1305::StreamMode">StreamMode</a>&gt; { /* fields omitted */ }</pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>Stream</code> contains the state for multi-part (streaming) computations. This
allows the caller to process encryption of a sequence of multiple messages.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl" class="impl"><code class="in-band">impl&lt;M:&nbsp;<a class="trait" href="trait.StreamMode.html" title="trait sodiumoxide::crypto::secretstream::xchacha20poly1305::StreamMode">StreamMode</a>&gt; <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt;</code><a href="#impl" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><h4 id="method.rekey" class="method"><code>pub fn <a href="#method.rekey" class="fnname">rekey</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.rekey" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Explicit rekeying. This updates the internal state of the <code>Stream&lt;Pull&gt;</code>,
and should only be called in a synchronized manner with how the
corresponding <code>Stream</code> called it when encrypting the stream. Returns
<code>Err(())</code> if the stream was already finalized, else <code>Ok(())</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.is_finalized" class="method"><code>pub fn <a href="#method.is_finalized" class="fnname">is_finalized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code><a href="#method.is_finalized" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Returns true if the stream is finalized.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.is_not_finalized" class="method"><code>pub fn <a href="#method.is_not_finalized" class="fnname">is_not_finalized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code><a href="#method.is_not_finalized" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Returns true if the stream is not finalized.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-1" class="impl"><code class="in-band">impl <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;<a class="struct" href="struct.Push.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Push">Push</a>&gt;</code><a href="#impl-1" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><h4 id="method.init_push" class="method"><code>pub fn <a href="#method.init_push" class="fnname">init_push</a>(key: &amp;<a class="struct" href="struct.Key.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Key">Key</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;<a class="struct" href="struct.Push.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Push">Push</a>&gt;, <a class="struct" href="struct.Header.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Header">Header</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.init_push" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Initializes an <code>Stream</code> using a provided <code>key</code>. Returns the
<code>Stream</code> object and a <code>Header</code>, which is needed by the recipient to
initialize a corresponding <code>Stream&lt;Pull&gt;</code>. The <code>key</code> will not be needed be
required for any subsequent authenticated encryption operations.
If you would like to securely generate a key and initialize an
<code>Stream</code> at the same time see the <code>new</code> method.
Network protocols can leverage the key exchange API in order to get a
shared key that can be used to encrypt streams. Similarly, file
encryption applications can use the password hashing API to get a key
that can be used with the functions below.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.push" class="method"><code>pub fn <a href="#method.push" class="fnname">push</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;m: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;ad: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: <a class="enum" href="enum.Tag.html" title="enum sodiumoxide::crypto::secretstream::xchacha20poly1305::Tag">Tag</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.push" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>All data (including optional fields) is authenticated. Encrypts a
message <code>m</code> and its <code>tag</code>. Optionally includes additional data <code>ad</code>,
which is not encrypted.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.push_to_vec" class="method"><code>pub fn <a href="#method.push_to_vec" class="fnname">push_to_vec</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;m: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;ad: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: <a class="enum" href="enum.Tag.html" title="enum sodiumoxide::crypto::secretstream::xchacha20poly1305::Tag">Tag</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;out: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.push_to_vec" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>All data (including optional fields) is authenticated. Encrypts a
message <code>m</code> and its <code>tag</code>. Optionally includes additional data <code>ad</code>,
which is not encrypted.</p>
<p>The encrypted message is written to the <code>out</code> vector, overwriting any existing data there.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.finalize" class="method"><code>pub fn <a href="#method.finalize" class="fnname">finalize</a>(self, ad: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.finalize" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Create a ciphertext for an empty message with the <code>TAG_FINAL</code> added
to signal the end of the stream. Since the <code>Stream</code> is not usable
after this point, this method consumes the <code>Stream</code>.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-2" class="impl"><code class="in-band">impl <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;<a class="struct" href="struct.Pull.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Pull">Pull</a>&gt;</code><a href="#impl-2" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><h4 id="method.init_pull" class="method"><code>pub fn <a href="#method.init_pull" class="fnname">init_pull</a>(header: &amp;<a class="struct" href="struct.Header.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Header">Header</a>, key: &amp;<a class="struct" href="struct.Key.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Key">Key</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;<a class="struct" href="struct.Pull.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Pull">Pull</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.init_pull" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Initializes a <code>Stream&lt;Pull&gt;</code> given a secret <code>Key</code> and a <code>Header</code>. The key
will not be required any more for subsequent operations. <code>Err(())</code> is
returned if the header is invalid.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.pull" class="method"><code>pub fn <a href="#method.pull" class="fnname">pull</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;c: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;ad: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.Tag.html" title="enum sodiumoxide::crypto::secretstream::xchacha20poly1305::Tag">Tag</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.pull" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Verifies that <code>c</code> is a valid ciphertext with a correct authentication tag
given the internal state of the <code>Stream</code> (ciphertext streams cannot be
decrypted out of order for this reason). Also may validate the optional
unencrypted additional data <code>ad</code> using the authentication tag attached to
<code>c</code>. Finally decrypts the ciphertext and tag, and checks the tag
validity.
If any authentication fails, the stream has already been finalized, or if
the tag byte for some reason does not correspond to a valid <code>Tag</code>,
returns <code>Err(())</code>. Otherwise returns the plaintext and the tag.
Applications will typically use a <code>while stream.is_not_finalized()</code>
loop to authenticate and decrypt a stream of messages.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.pull_to_vec" class="method"><code>pub fn <a href="#method.pull_to_vec" class="fnname">pull_to_vec</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;c: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;ad: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;out: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.Tag.html" title="enum sodiumoxide::crypto::secretstream::xchacha20poly1305::Tag">Tag</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a href="#method.pull_to_vec" class="anchor"></a><a class="srclink" href="../../../../src/sodiumoxide/crypto/secretstream/xchacha20poly1305.rs.html#17-32" title="goto source code">[src]</a></h4></summary><div class="docblock"><p>Verifies that <code>c</code> is a valid ciphertext with a correct authentication tag
given the internal state of the <code>Stream</code> (ciphertext streams cannot be
decrypted out of order for this reason). Also may validate the optional
unencrypted additional data <code>ad</code> using the authentication tag attached to
<code>c</code>. Finally decrypts the ciphertext and tag, and checks the tag
validity.
If any authentication fails, the stream has already been finalized, or if
the tag byte for some reason does not correspond to a valid <code>Tag</code>,
returns <code>Err(())</code>. Otherwise returns the plaintext and the tag.
Applications will typically use a <code>while stream.is_not_finalized()</code>
loop to authenticate and decrypt a stream of messages.</p>
<p>The decrypted message is written to the <code>out</code> vector, overwriting any existing data there.</p>
</div></details></div></details><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><h3 id="impl-RefUnwindSafe" class="impl"><code class="in-band">impl&lt;M&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;M: <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a>,&nbsp;</span></code><a href="#impl-RefUnwindSafe" class="anchor"></a></h3><h3 id="impl-Send" class="impl"><code class="in-band">impl&lt;M&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;M: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,&nbsp;</span></code><a href="#impl-Send" class="anchor"></a></h3><h3 id="impl-Sync" class="impl"><code class="in-band">impl&lt;M&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;M: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,&nbsp;</span></code><a href="#impl-Sync" class="anchor"></a></h3><h3 id="impl-Unpin" class="impl"><code class="in-band">impl&lt;M&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;M: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></code><a href="#impl-Unpin" class="anchor"></a></h3><h3 id="impl-UnwindSafe" class="impl"><code class="in-band">impl&lt;M&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Stream.html" title="struct sodiumoxide::crypto::secretstream::xchacha20poly1305::Stream">Stream</a>&lt;M&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;M: <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a>,&nbsp;</span></code><a href="#impl-UnwindSafe" class="anchor"></a></h3></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-Any" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-Any" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#131-135" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="method.type_id" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></code><a href="#method.type_id" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#132" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-Borrow%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-Borrow%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="method.borrow" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</code><a href="#method.borrow" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-BorrowMut%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="method.borrow_mut" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</code><a href="#method.borrow_mut" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-From%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</code><a href="#impl-From%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#544-548" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="method.from" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</code><a href="#method.from" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#545" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-Into%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-Into%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#533-540" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="method.into" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</code><a href="#method.into" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#537" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-TryFrom%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#581-590" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="associatedtype.Error" class="type trait-impl"><code>type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></code><a href="#associatedtype.Error" class="anchor"></a></h4></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.try_from" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a href="#method.try_from" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#587" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></details><details class="rustdoc-toggle implementors-toggle" open><summary><h3 id="impl-TryInto%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-TryInto%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#567-576" title="goto source code">[src]</a></h3></summary><div class="impl-items"><details class="undocumented"><summary></summary><details class="rustdoc-toggle" open><summary><h4 id="associatedtype.Error-1" class="type trait-impl"><code>type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></code><a href="#associatedtype.Error-1" class="anchor"></a></h4></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle" open><summary><h4 id="method.try_into" class="method trait-impl"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a href="#method.try_into" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#573" title="goto source code">[src]</a></h4></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../../" data-current-crate="sodiumoxide" data-search-index-js="../../../../search-index.js" data-search-js="../../../../search.js"></div>
    <script src="../../../../main.js"></script></body></html>